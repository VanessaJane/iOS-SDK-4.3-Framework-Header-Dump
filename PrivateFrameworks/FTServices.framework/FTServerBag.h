/**
 * This header is generated by class-dump-z 0.2a.
 * class-dump-z is Copyright (C) 2009 by KennyTM~, licensed under GPLv3.
 *
 * Source: /System/Library/PrivateFrameworks/FTServices.framework/FTServices
 */

#import "FTServices-Structs.h"
#import <XXUnknownSuperclass.h> // Unknown library

@class IMConnectionMonitor, NSURL, NSMutableURLRequest, NSMutableData, NSURLResponse, NSURLConnection, NSDictionary, NSData, NSString;

@interface FTServerBag : XXUnknownSuperclass {
	IMConnectionMonitor* _connectionMonitor;
	NSURL* _bagURL;
	NSString* _apsEnvironmentName;
	NSDictionary* _bag;
	NSDictionary* _cachedBag;
	NSMutableURLRequest* _urlRequest;
	NSMutableData* _currentResponseData;
	NSURLResponse* _currentResponse;
	NSURLConnection* _currentURLConnection;
	SecTrust* _trust;
	NSData* _certData;
	BOOL _allowSelfSignedCertificates;
	BOOL _allowUnsignedBags;
}
+(id)sharedInstance;
-(void)_clearCache;
-(void)_loadFromCache;
-(void)_saveToCache;
-(id)_initWithURL:(id)url apsEnvironmentName:(id)name allowSelfSignedCertificates:(BOOL)certificates allowUnsignedBags:(BOOL)bags;
-(id)init;
-(void)dealloc;
-(BOOL)_loadFromDictionary:(id)dictionary returningError:(id*)error;
-(void)_invalidate;
-(BOOL)isValid;
-(void)setCertificateData:(id)data;
-(BOOL)checkData:(id)data againstSignature:(id)signature;
-(BOOL)_loadFromSignedDictionary:(id)signedDictionary returningError:(id*)error;
-(void)_processBagResultData:(id)data response:(id)response;
-(void)_cancelCurrentLoad;
-(void)startBagLoad;
-(void)reloadBag;
-(BOOL)isLoading;
-(BOOL)isLoaded;
-(id)objectForKey:(id)key;
-(id)urlWithKey:(id)key;
-(void)connection:(id)connection didFailWithError:(id)error;
-(void)connectionDidFinishLoading:(id)connection;
-(void)connection:(id)connection didReceiveResponse:(id)response;
-(void)connection:(id)connection didReceiveData:(id)data;
-(id)connection:(id)connection willCacheResponse:(id)response;
-(BOOL)isServerAvailable;
-(void)connectionMonitorDidUpdate:(id)connectionMonitor;
-(id)bagURL;
-(id)apsEnvironmentName;
-(BOOL)allowSelfSignedCertificates;
-(BOOL)allowUnsignedBags;
@end

