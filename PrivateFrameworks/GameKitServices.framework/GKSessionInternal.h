/**
 * This header is generated by class-dump-z 0.2a.
 * class-dump-z is Copyright (C) 2009 by KennyTM~, licensed under GPLv3.
 *
 * Source: /System/Library/PrivateFrameworks/GameKitServices.framework/GameKitServices
 */

#import "GameKitServices-Structs.h"
#import <XXUnknownSuperclass.h> // Unknown library
#import "GKSessionInternal.h"

@class GKSession, GKConnection, NSString, GKAutoPeerIDTable, GKTable, GKList, GKVoiceChatSessionListener;
@protocol GKSessionPrivateDelegate, GKSessionDataReceiveHandler, GKSessionDOOBReceiveHandler, GKSessionDelegate;

@interface GKSessionInternal : XXUnknownSuperclass {
@private
	GKSession* _session;
	NSString* domain;
	NSString* serviceType;
	unsigned _port;
	NSString* _displayName;
	unsigned _pid;
	unsigned maxPeers;
	OpaqueGCKSession* sessionRef;
	OpaqueAGPSession* agpSessionRef;
	GKConnection* _connection;
	id<GKSessionDelegate> _delegate;
	id<GKSessionPrivateDelegate> _privateDelegate;
	id<GKSessionDataReceiveHandler> _dataReceiveHandler;
	void* _dataReceiveHandlerContext;
	id<GKSessionDOOBReceiveHandler> _doobReceiveHandler[2];
	void* _doobReceiveHandlerContext[2];
	GKTable* _peerInfoTable;
	GKTable* _peerNameTable;
	GKAutoPeerIDTable* _peerIDTable;
	GKList* _peersAvailable;
	GKList* _peersConnected;
	GKList* _peersForCleanup;
	GKList* _peersPendingIncomingInvitation;
	GKList* _peersPendingOutgoingInvitation;
	opaque_pthread_mutex_t _lock;
	opaque_pthread_mutex_t _delegateLock;
	BOOL _isSearching;
	BOOL _isPublishing;
	BOOL _sessionStarted;
	int _mode;
	BOOL _isBusy;
	NSString* sessionID;
	NSString* displayName;
	double disconnectTimeout;
	DNSServiceRef_tRef _dnsServiceConnection;
	DNSServiceRef_tRef _dnsServiceResolveConnection;
	int _sReset;
	DNSServiceRef_tRef _serviceBrowser;
	DNSServiceRef_tRef _service;
	DNSServiceRef_tRef _oldService;
	BOOL _handleEventsRunning;
	BOOL _stopHandlingEvents;
	BOOL _wifiEnabled;
	BOOL _shutdown;
	GKVoiceChatSessionListener* _voiceChatListener;
}
@property(retain, nonatomic) NSString* domain;
@property(retain, nonatomic) NSString* serviceType;
@property(assign, nonatomic) unsigned maxPeers;
@property(assign) id<GKSessionDelegate> delegate;
@property(assign, nonatomic) OpaqueGCKSession* sessionRef;
@property(assign, nonatomic) OpaqueAGPSession* agpSessionRef;
@property(assign, nonatomic) unsigned port;
@property(assign, nonatomic) id dataReceiveHandler;
@property(assign) id<GKSessionPrivateDelegate> privateDelegate;
@property(readonly, assign) NSString* sessionID;
@property(readonly, assign) int sessionMode;
@property(readonly, retain) GKConnection* connection;
@property(assign) BOOL wifiEnabled;
@property(assign, getter=isBusy) BOOL busy;
@property(assign, getter=isAvailable) BOOL available;
@property(assign) double disconnectTimeout;
@property(readonly, assign) NSString* peerID;
@property(readonly, assign) NSString* displayName;
-(id)description;
-(id)initWithConnection:(id)connection session:(id)session delegate:(id)delegate;
-(id)initWithSessionID:(id)sessionID displayName:(id)name session:(id)session sessionMode:(int)mode;
-(void)reset;
-(void)dealloc;
-(id)displayNameForPeer:(id)peer;
-(BOOL)sendAudioData:(id)data toPeers:(id)peers withDataMode:(int)dataMode error:(id*)error;
-(BOOL)passesSendDataSanityCheck:(id)check toPeers:(id)peers withDataMode:(int)dataMode error:(id*)error;
-(BOOL)sendData:(id)data toPeers:(id)peers withDataMode:(int)dataMode error:(id*)error;
-(BOOL)sendData:(id)data toPeers:(id)peers withDataMode:(int)dataMode isAudio:(BOOL)audio error:(id*)error;
-(BOOL)sendDataToAllPeers:(id)allPeers withDataMode:(int)dataMode error:(id*)error;
-(void)receiveDOOB:(id)doob fromPeer:(id)peer inSession:(id)session context:(void*)context;
-(void)setDOOBReceiveHandler:(id)handler withContext:(void*)context inBand:(unsigned)band;
-(void)setDataReceiveHandler:(id)handler withContext:(void*)context;
-(void)timeoutConnectToPeer:(id)peer;
-(void)connectToPeer:(id)peer withTimeout:(double)timeout;
-(void)cancelConnectToPeer:(id)peer;
-(BOOL)acceptConnectionFromPeer:(id)peer error:(id*)error;
-(void)denyConnectionFromPeer:(id)peer;
-(void)disconnectPeerFromAllPeers:(id)allPeers;
-(void)disconnectFromAllPeers;
-(id)peersWithConnectionState:(int)connectionState;
-(void)stopOldService;
-(BOOL)isPeerBusy:(id)busy;
-(void)handleEvents;
-(BOOL)checkDNSConnection;
-(void)publish;
-(BOOL)filterService:(const char*)service withPID:(unsigned)pid;
-(void)cleanupExAvailablePeers;
-(void)processTXTRecordForPeer:(id)peer txtLen:(unsigned short)len txtRecord:(const void*)record;
-(void)didUpdateTXTRecordForPeer:(id)peer fromIF:(const char*)anIf txtLen:(unsigned short)len txtRecord:(const void*)record withError:(int)error moreComing:(BOOL)coming;
-(void)didFindService:(const char*)service fromIF:(const char*)anIf withError:(int)error moreComing:(BOOL)coming;
-(void)didRemoveService:(const char*)service fromIF:(const char*)anIf withError:(int)error moreComing:(BOOL)coming;
-(void)browse;
-(BOOL)tryConnectToPeer:(id)peer;
-(void)didLookupHostname:(DNSServiceRef_tRef)hostname forPeer:(id)peer hostName:(const char*)name address:(const sockaddr_in*)address interface:(unsigned)interface withError:(int)error moreComing:(BOOL)coming;
-(void)didResolveService:(DNSServiceRef_tRef)service forPeer:(id)peer hostName:(const char*)name port:(unsigned short)port interface:(unsigned)interface txtLen:(unsigned short)len txtRecord:(const void*)record withError:(int)error moreComing:(BOOL)coming;
-(id)stringForGCKID:(unsigned)gckid;
-(id)voiceChatSessionListener;
@end

@interface GKSessionInternal (callback)
-(void)sendCallbacksToDelegate:(XXStruct_jB8chB*)delegate remotePeer:(unsigned)peer;
@end

@interface GKSessionInternal (_private)
-(BOOL)isShuttingDown;
-(id)createNSErrorFromHRESULT:(int)hresult description:(id)description reason:(id)reason;
-(id)createNSErrorFromGKSessionError:(int)gksessionError description:(id)description reason:(id)reason;
-(void)printDictionaries;
-(void)setDisplayName:(id)name forPeer:(unsigned)peer;
-(void)tellDelegate_sessionDidFailWithError:(id)tellDelegate_session;
-(void)tellDelegate_didConnectPeer:(id)peer;
-(void)tellDelegate_didDisconnectPeer:(id)peer;
-(void)tellDelegate_isConnectingPeer:(id)peer;
-(void)tellDelegate_peerDidBecomeAvailable:(id)tellDelegate_peer;
-(void)tellDelegate_peerDidBecomeUnavailable:(id)tellDelegate_peer;
-(void)tellDelegate_didReceiveBand_RetryICE:(id)ice;
-(void)tellDelegate_didReceiveData:(id)data;
-(void)tellDelegate_gotInvited:(id)invited;
-(void)tellDelegate_connectionRequestToPeerFailed:(id)peerFailed;
-(void)tellDelegate_peerDidBecomeBusy:(id)tellDelegate_peer;
-(void)tellDelegate_initiateRelay:(id)relay;
-(void)tellDelegate_updateRelay:(id)relay;
-(BOOL)parseServiceName:(const char*)name intoDisplayName:(id*)name2 pid:(unsigned*)pid state:(id*)state;
-(id)serviceName;
-(void)stopResolvingAllPeers;
-(void)didPublishWithError:(int)error;
-(void)lock;
-(void)unlock;
@end

