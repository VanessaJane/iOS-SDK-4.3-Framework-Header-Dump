/**
 * This header is generated by class-dump-z 0.2a.
 * class-dump-z is Copyright (C) 2009 by KennyTM~, licensed under GPLv3.
 *
 * Source: /System/Library/PrivateFrameworks/Message.framework/Message
 */

#import <XXUnknownSuperclass.h> // Unknown library
#import "Message-Structs.h"

@class _MFSocket, NSMutableString, NSData;
@protocol MFSASLSecurityLayer;

@interface Connection : XXUnknownSuperclass {
	id<MFSASLSecurityLayer> _securityLayer;
	_MFSocket* _socket;
	char* _buffer;
	int _bufferRemainingBytes;
	unsigned _bufferStart;
	unsigned _bufferLength;
	unsigned _desiredBufferLength;
	z_stream_s* _deflater;
	z_stream_s* _inflater;
	char* _zbuffer;
	NSData* _logData;
	unsigned _dontLogReads;
	unsigned _readBytesNotLogged;
	NSMutableString* _readBytesToLog;
	unsigned _isFetching : 1;
	unsigned _allowFallbacks : 1;
	unsigned _compressionEnabled : 1;
}
+(void)readLoggingDefaults;
+(void)initialize;
+(void)logBytes:(const char*)bytes length:(int)length;
+(void)flushLog;
+(id)logClasses;
+(void)setLogClasses:(id)classes;
+(BOOL)logAllSocketActivity;
+(void)setLogAllSocketActivity:(BOOL)activity;
+(id)logActivityOnPorts;
+(void)setLogActivityOnPorts:(id)ports;
+(id)logActivityOnHosts;
+(void)setLogActivityOnHosts:(id)hosts;
+(BOOL)shouldTryFallbacksAfterError:(id)error;
-(void)dealloc;
-(BOOL)isForcedConnection;
-(BOOL)isFetching;
-(void)setIsFetching:(BOOL)fetching;
-(void)_setupNetworkLogging;
-(BOOL)connectUsingSettings:(id)settings;
-(BOOL)connectUsingAccount:(id)account;
-(BOOL)connectUsingFallbacksForAccount:(id)account;
-(void)setAllowsFallbacks:(BOOL)fallbacks;
-(BOOL)authenticateUsingAccount:(id)account;
-(id)capabilities;
-(id)authenticationMechanisms;
-(BOOL)loginDisabled;
-(BOOL)writeBytes:(const char*)bytes length:(unsigned)length dontLogBytesInRange:(NSRange)range;
-(BOOL)writeData:(id)data dontLogBytesInRange:(NSRange)range;
-(BOOL)writeData:(id)data;
-(void)setDesiredReadBufferLength:(unsigned)length;
-(void)enableReadLogging:(BOOL)logging;
-(void)logReadChars:(const char*)chars length:(unsigned)length;
-(BOOL)readLineIntoData:(id)data;
-(BOOL)readBytesIntoData:(id)data desiredLength:(unsigned)length;
-(BOOL)authenticateUsingAccount:(id)account authenticator:(id)authenticator;
-(BOOL)startTLSForAccount:(id)account;
-(BOOL)startCompression;
-(BOOL)isValid;
-(void)disconnect;
-(id)_socket;
-(BOOL)hasBytesAvailable;
-(id)_newSocket;
-(double)lastUsedTime;
@end

