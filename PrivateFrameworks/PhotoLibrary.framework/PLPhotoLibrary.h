/**
 * This header is generated by class-dump-z 0.2a.
 * class-dump-z is Copyright (C) 2009 by KennyTM~, licensed under GPLv3.
 *
 * Source: /System/Library/PrivateFrameworks/PhotoLibrary.framework/PhotoLibrary
 */

#import <XXUnknownSuperclass.h> // Unknown library
#import "PhotoLibrary-Structs.h"
#import "PLPhotoLibrary.h"

@class PLPhotoStreamAlbum, PLConnection, NSDictionary, NSIndexSet, PLCameraAlbum, PLPhotoAlbum, NSCalendar, PLWStackedImageCache, NSMutableArray, PLThumbnailManager, NSMutableDictionary;

@interface PLPhotoLibrary : XXUnknownSuperclass {
	BOOL _readOnly;
	BOOL _listeningForITunesSyncing;
	PLConnection* _connection;
	CFDictionaryRef _allPhotos;
	double _lastRemoteDataModification;
	int _databaseMigrationKind;
	PLThumbnailManager* _thumbnailManager;
	NSDictionary* _existingThumbnailEntries;
	NSIndexSet* _existingThumbnailIndexes;
	PLCameraAlbum* _savedPhotosAlbum;
	PLPhotoAlbum* _allPhotosAlbum;
	PLPhotoAlbum* _iPadAllPhotosAlbum;
	PLPhotoAlbum* _allImportedPhotosAlbum;
	PLPhotoAlbum* _lastImportedPhotosAlbum;
	NSCalendar* _exifConversionCalendar;
	NSMutableDictionary* _photoStreamAlbumsByStreamID;
	NSMutableArray* _photoStreamAlbums;
	PLPhotoStreamAlbum* _allPhotoStreamPhotosAlbum;
	id _ptpDelegate;
	PLWStackedImageCache* _stackedImageCache;
}
+(id)sharedPhotoLibrary;
+(id)sharedPhotoLibraryIfExists;
+(id)savedPhotosAlbum;
+(id)photoDataDirectory;
+(id)photoDataMiscDirectory;
+(id)iTunesPhotosDirectory;
+(id)dcimDirectoryPath;
+(id)dcimDirectory;
+(BOOL)processCanReadSandboxForPath:(id)path;
+(BOOL)processCanWriteSandboxForPath:(id)path;
+(BOOL)needsThumbnailMigration;
+(BOOL)needsToRegenerateVideoThumbnailsForConnection:(id)connection;
+(id)takingVideoIndicatorFilePath;
+(id)imageWriterIndicatorFilePath;
+(id)sqliteErrorIndicatorFilePath;
+(id)migrationIndicatorFilePath;
+(id)allIndicatorFilePaths;
+(BOOL)cameraRollNeedsMigration;
+(void)_presentSqliteCorruptionErrorDialog;
+(void)setMigratorIsBusy:(BOOL)busy;
+(void)setImageWriterIsBusy:(BOOL)busy;
+(void)setVideoCaptureIsBusy:(BOOL)busy;
+(BOOL)isReadOnly;
+(id)anotherUid;
+(id)photoStreamsDataDirectory;
+(void)setPhotoStreamEnabled:(BOOL)enabled;
-(void)setSqliteErrorAndExitIfNecessary;
-(void)_closeDatabaseConnection;
-(id)init;
-(void)dealloc;
-(BOOL)libraryIsAvailable;
-(void)flushDCIMAlbums;
-(void)flushPhotoStreamAlbums;
-(void)flushAlbums;
-(void)listenForITunesSyncing;
-(void)iTunesSyncPhaseWillStart:(int)iTunesSyncPhase;
-(void)iTunesSyncPhaseDidFinish:(int)iTunesSyncPhase reason:(int)reason;
-(void)preheatImageDataForImages:(id)images withFormat:(int)format;
-(id)dataForPhoto:(id)photo format:(int)format width:(int*)width height:(int*)height bytesPerRow:(int*)row dataWidth:(int*)width6 dataHeight:(int*)height7 imageDataOffset:(int*)offset;
-(id)newImageForDulcimerImage:(id)dulcimerImage format:(int)format outImageProperties:(const CFDictionaryRef*)properties;
-(id)newImageForDulcimerImage:(id)dulcimerImage format:(int)format;
-(id)imageForFormat:(int)format forImage:(id)image;
-(id)connection;
-(id)countOfAllPhotosAndVideos;
-(void)initializeGraphicsServices;
-(void)_notifyRebuildProgressOnMainThread:(id)thread;
-(void)_notifyProgress:(float)progress;
-(BOOL)needsMigration;
-(void)prepareToMigrateDcimToDatabase;
-(void)_deleteObsoleteMetadataFiles;
-(void)_removeOrphanedThumbnailEntries;
-(void)_migrationDidFinish;
-(void)finishVideoMigration;
-(void)_loadExistingThumbnailEntries;
-(void)_unloadExistingThumbnailEntries;
-(void)fullDcimMigration;
-(void)migrateDcimToDatabase;
-(void)applicationWillEnterForeground:(id)application;
-(int)_sortingCategoryForAlbum:(id)album;
-(void)insertAlbum:(id)album intoSortedAlbums:(id)albums;
-(id)userAlbums;
-(id)imagePickerAlbums;
-(id)photoStreamAlbumsForPreferences;
-(id)wallpaperAlbums;
-(id)syncedAlbums;
-(void)removePhotosFromAllAlbums:(id)allAlbums;
-(void)_addPhoto:(id)photo toEvent:(id)event;
-(void)addPhotoToCameraRoll:(id)cameraRoll;
-(void)addPhoto:(id)photo toAlbumsAndEvent:(id)albumsAndEvent invalidateStackedImageForEvent:(BOOL)event;
-(BOOL)isPhotoInSavedPhotosAlbum:(id)savedPhotosAlbum;
-(id)savedPhotosAlbum;
-(id)allImportedPhotosAlbum;
-(id)lastImportedPhotosAlbum;
-(id)_iTunesPhotos;
-(id)allPhotosAlbum;
-(id)allPhotosAlbumIfExists;
-(id)iPadAllPhotosAlbum;
-(id)iPadAllPhotosAlbumIfExists;
-(id)albums;
-(id)posterImageForAlbum:(id)album;
-(id)albumWithUuid:(id)uuid;
-(void)_notifyChangedPhotos:(id)photos;
-(void)_loadPhotoLibraryAfterMigration;
-(void)_notifyPhotoLibraryIsNoLongerAvailableOnMainThread;
-(void)photoLibraryCorruptNotification;
-(void)photoLibraryRebuildingNotification;
-(void)photoLibraryAvailableNotification;
-(void)pictureWasDeletedNotification;
-(void)pictureWasChanged;
-(void)pictureWasTakenOrChanged;
-(id)iTunesFaceImageForRecordID:(int)recordID faceIndex:(int)index size:(CGSize)size returnLocationInImage:(CGRect*)image;
-(BOOL)_hasAtLeastOneItem:(BOOL)leastOneItem;
-(BOOL)hasAtLeastOneItem;
-(BOOL)hasAtLeastOnePhoto;
-(BOOL)hasAtLeastOnePhotoWithGPS;
-(int)_orientationAfterRotatingOrientation:(int)orientation clockwiseByDegrees:(int)degrees transposeCoordinatesOut:(BOOL*)anOut;
-(int)_orientationOfFileAtPath:(id)path;
-(id)_setPhotoAtPath:(id)path toOrientation:(int)orientation;
-(BOOL)rotatePLPhoto:(id)photo byDegrees:(int)degrees;
-(BOOL)rotateCameraPhoto:(id)photo byDegrees:(int)degrees;
-(BOOL)rotatePhoto:(id)photo byDegrees:(int)degrees;
-(id)dateForPhoto:(id)photo;
-(id)fileExtensionsForPhoto:(id)photo;
-(id)eventAlbumContainingPhoto:(id)photo;
-(void)_deleteFilesAndEmptyDirectoriesAtPaths:(id)paths;
-(id)pathsToFilesTrackedByExtras:(id)filesTrackedByExtras;
-(id)_occupiedThumbnailIndexes;
-(void)_compactThumbnailTablesIfNecessary;
-(BOOL)deleteImagesWithKeys:(id)keys;
-(void)deleteImages:(id)images;
-(void)deleteAllImages;
-(id)photoWithPrimaryKey:(int)primaryKey;
-(BOOL)hasPhotoWithCaptureDate:(id)captureDate fileName:(id)name fileSize:(int)size;
-(BOOL)hasPhotoWithFileCreationDate:(id)fileCreationDate fileName:(id)name fileSize:(int)size;
-(id)exifStringForDate:(id)date;
-(id)nonPersistedEventWithTitle:(id)title;
-(void)modifyDCIMEntryForVideo:(id)video progress:(XXStruct_pqCwAA*)progress previewImage:(id)image thumbnailImage:(id)image4;
-(id)photoWithPath:(id)path;
-(void)modifyDCIMEntryForPhoto:(id)photo;
-(void)migrateSavedPhotoCaptureTimes;
-(void)updateThumbnailsForPhoto:(id)photo previewImage:(id)image thumbnailImage:(id)image3;
-(int)_nextAvailableThumbnailIndex;
-(id)addDCIMEntryAtPath:(id)path toEvent:(id)event extensions:(id)extensions progress:(XXStruct_pqCwAA*)progress notify:(BOOL)notify importSessionIdentifier:(int)identifier isImported:(BOOL)imported gatherVideoInformation:(BOOL)information previewImage:(id)image thumbnailImage:(id)image10 savedAssetType:(int)type;
-(void)_attachAuxDatabase;
-(void)_detachAuxDatabase;
-(void)loadDatabaseCreateForMigration:(BOOL)migration;
-(id)_imagesForAlbum:(id)album firstImageOnly:(BOOL)only;
-(int)_numberOfAssetsInDCIMDirectory;
-(int)_numberOfNonPhotoStreamAssetsInDatabase;
-(id)photoStreamAlbums;
-(void)addToKnownPhotoStreamAlbums:(id)knownPhotoStreamAlbums;
-(void)removeFromKnownPhotoStreamAlbums:(id)knownPhotoStreamAlbums;
-(id)albumForStreamID:(id)streamID;
-(id)allPhotoStreamPhotosAlbum;
-(id)allPhotoStreamPhotosAlbumIfItExists;
-(void)saveToSavedPhotosAllPhotoInPhotoStreamAlbums:(id)photoStreamAlbums;
@end

@interface PLPhotoLibrary (Utilities)
+(long)creationDate:(id*)date latitude:(double*)latitude longitude:(double*)longitude fromVideo:(id)video;
+(void)moveDatabasesAside;
-(BOOL)multiplePhotoStreamsAvailable;
-(id)albumsForContentMode:(int)contentMode;
@end

@interface PLPhotoLibrary (ALAssetLibraryMethods)
-(id)assetURLForPhoto:(id)photo extension:(id)extension;
-(id)assetURLForPhoto:(id)photo;
-(id)photoFromAssetURL:(id)assetURL;
@end

@interface PLPhotoLibrary (PTPMethods)
-(BOOL)hasDelegateAndValidDatabase;
-(void)_photoAlbumChanged:(id)changed;
-(void)_notifyPTPAboutDeletedPhoto:(id)photo;
-(void)_notifyPTPAboutAddedPhoto:(id)photo;
-(void)_notifyPTPAboutPhotoLibraryAvailable:(BOOL)available;
-(void)setPtpDelegate:(id)delegate;
-(BOOL)ptpCanDeleteFiles;
-(id)ptpInformationForPhotoWithPrimaryKey:(int)primaryKey;
-(id)ptpInformationForPhotosWithPrimaryKeys:(id)primaryKeys;
-(id)ptpInformationForFilesInDirectory:(id)directory;
-(id)ptpThumbnailForPhotoWithKey:(id)key;
-(BOOL)ptpDeletePhotosWithKeys:(id)keys;
-(BOOL)ptpDeletePhotoWithKey:(id)key andExtension:(id)extension;
@end

