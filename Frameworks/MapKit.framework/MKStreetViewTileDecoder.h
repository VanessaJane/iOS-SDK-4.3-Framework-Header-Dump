/**
 * This header is generated by class-dump-z 0.2a.
 * class-dump-z is Copyright (C) 2009 by KennyTM~, licensed under GPLv3.
 *
 * Source: /System/Library/Frameworks/MapKit.framework/MapKit
 */

#import "MapKit-Structs.h"
#import <XXUnknownSuperclass.h> // Unknown library

@class NSMutableArray, MKStreetView, NSConditionLock, EAGLContext, MKPanoramaDecoderRequest, NSLock;
@protocol MKStreetViewTileDecoderDelegate;

__attribute__((visibility("hidden")))
@interface MKStreetViewTileDecoder : XXUnknownSuperclass {
@private
	id<MKStreetViewTileDecoderDelegate> _delegate;
	EAGLContext* _context;
	NSMutableArray* _requestQueue;
	NSConditionLock* _queueLock;
	MKStreetView* _view;
	BOOL _die;
	unsigned _width;
	unsigned _height;
	NSConditionLock* _converterLock;
	MKPanoramaDecoderRequest* _converterRequest;
	IOSurfaceRef _converterSrcSurface;
	BOOL _converterDie;
	NSLock* _freeTextureLock;
	TextureNode _freeTextureNodes[8];
	TextureNode* _firstFreeTexture;
	TextureNode* _lastFreeTexture;
	TextureNode* _firstEmptyNode;
}
@property(assign, nonatomic) id<MKStreetViewTileDecoderDelegate> delegate;
-(id)initWithView:(id)view sharegroup:(id)sharegroup;
-(void)dealloc;
-(void)purgeRequests;
-(unsigned)_decodeTileData:(id)data context:(CGContextRef)context bytes:(unsigned short*)bytes path:(int)path extendRight:(int)right extendDown:(int)down;
-(void)_runSoftwareDecoder;
-(void)_runHardwareDecoder:(id)decoder;
-(void)_runHardwareConverterWithSurfaceProperties:(id)surfaceProperties;
-(unsigned)decodeTileData:(id)data extendRight:(int)right extendDown:(int)down;
-(unsigned)decodeTileData:(id)data;
-(unsigned)decodeCubicSupertileData:(id)data originalSize:(CGSize*)size paddedSize:(CGSize*)size3;
-(void)enqueueDecodeRequests:(id)requests;
-(void)addFreeTexture:(unsigned)texture;
-(unsigned)getFreeTexture;
-(void)purgeFreeTextures;
-(int)freeTextureCount;
-(void)releaseAndDie;
@end

